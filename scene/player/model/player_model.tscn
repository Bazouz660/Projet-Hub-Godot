[gd_scene load_steps=27 format=3 uid="uid://b6i3ktwxchyr8"]

[ext_resource type="Script" path="res://scene/player/model/humanoid_model.gd" id="1_dfp2c"]
[ext_resource type="Animation" uid="uid://c30rfefyk5ykf" path="res://asset/animation/humanoid/ready_idle.res" id="2_b6r85"]
[ext_resource type="PackedScene" uid="uid://caj4uw43llohe" path="res://scene/weapon/sword.tscn" id="2_gqoei"]
[ext_resource type="Animation" uid="uid://c3vd7xb4dsl31" path="res://asset/animation/humanoid/roll.res" id="3_3r6fq"]
[ext_resource type="Animation" uid="uid://gk61tvs7ylqh" path="res://asset/animation/humanoid/run.res" id="4_f7g05"]
[ext_resource type="Animation" uid="uid://c4lc46lkxocn6" path="res://asset/animation/humanoid/sprint.res" id="5_hq78x"]
[ext_resource type="Animation" uid="uid://b0xqh4p0a5mxu" path="res://asset/animation/humanoid/walk.res" id="6_oqwur"]
[ext_resource type="Script" path="res://scene/player/model/animation_player.gd" id="7_1ussp"]
[ext_resource type="Animation" uid="uid://cide813ya7whq" path="res://asset/animation/humanoid/resting.res" id="7_d8rpn"]
[ext_resource type="Script" path="res://scene/player/move/idle.gd" id="8_ly13d"]
[ext_resource type="Animation" uid="uid://cbnoqocs0p8wo" path="res://asset/animation/humanoid/sitting_ground_to_standing.res" id="9_4ay6k"]
[ext_resource type="Animation" uid="uid://bead1uaa8v4hw" path="res://asset/animation/humanoid/slash_1.res" id="9_05qd0"]
[ext_resource type="Script" path="res://scene/player/model/humanoid_combat.gd" id="9_dpui0"]
[ext_resource type="Script" path="res://scene/player/move/run.gd" id="9_w7hc7"]
[ext_resource type="Animation" uid="uid://bub01dl8dhbby" path="res://asset/animation/humanoid/slash_2.res" id="10_51io1"]
[ext_resource type="Script" path="res://scene/player/move/roll.gd" id="10_u5sls"]
[ext_resource type="Script" path="res://scene/player/move/sprint.gd" id="11_4su47"]
[ext_resource type="Animation" uid="uid://t1f6b2vuxysy" path="res://asset/animation/humanoid/slash_3.res" id="11_qv3sr"]
[ext_resource type="Script" path="res://scene/player/move/rest.gd" id="13_yducd"]
[ext_resource type="Script" path="res://scene/player/move/rest_to_idle.gd" id="16_f8u1j"]
[ext_resource type="Script" path="res://scene/player/move/idle_to_rest.gd" id="17_voj4g"]
[ext_resource type="Script" path="res://scene/player/move/slash_1.gd" id="18_shhe5"]
[ext_resource type="Script" path="res://scene/player/move/slash_2.gd" id="19_s86su"]
[ext_resource type="Script" path="res://scene/player/model/consecutive_attack.gd" id="19_sgwv5"]
[ext_resource type="Script" path="res://scene/player/move/slash_3.gd" id="20_ps46c"]

[sub_resource type="AnimationLibrary" id="AnimationLibrary_58s4b"]
_data = {
"ready_idle": ExtResource("2_b6r85"),
"resting": ExtResource("7_d8rpn"),
"roll": ExtResource("3_3r6fq"),
"run": ExtResource("4_f7g05"),
"sitting_ground_to_standing": ExtResource("9_4ay6k"),
"slash_1": ExtResource("9_05qd0"),
"slash_2": ExtResource("10_51io1"),
"slash_3": ExtResource("11_qv3sr"),
"sprint": ExtResource("5_hq78x"),
"walk": ExtResource("6_oqwur")
}

[node name="Model" type="Node3D"]
script = ExtResource("1_dfp2c")

[node name="GeneralSkeleton" type="Skeleton3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(0.015, 0, 0, 0, 0.015, 0, 0, 0, 0.015, 0, 0, 0)
bones/0/name = "mixamorigHips"
bones/0/parent = -1
bones/0/rest = Transform3D(0.993877, 0.104864, -0.0348147, -0.110492, 0.943568, -0.312204, 0.000111004, 0.314139, 0.949377, -1.39451, 77.1941, -2.14362)
bones/0/enabled = true
bones/0/position = Vector3(-18.2941, 64.9529, 7.46537)
bones/0/rotation = Quaternion(-0.0776252, 0.240663, -0.0325204, 0.966953)
bones/0/scale = Vector3(1, 1, 1)
bones/1/name = "mixamorigSpine"
bones/1/parent = 0
bones/1/rest = Transform3D(0.987056, -0.105284, -0.120976, 0.0962784, 0.992291, -0.0780362, 0.128259, 0.0653788, 0.989583, 0, 8.86398, 0.116974)
bones/1/enabled = true
bones/1/position = Vector3(0, 8.86398, 0.116974)
bones/1/rotation = Quaternion(0.0398436, 0.206985, -0.01568, 0.977407)
bones/1/scale = Vector3(1, 1, 1)
bones/2/name = "mixamorigSpine1"
bones/2/parent = 1
bones/2/rest = Transform3D(0.998541, -0.0393115, -0.0370236, 0.0375601, 0.998195, -0.046866, 0.0387992, 0.045407, 0.998215, 0, 10.3422, 0)
bones/2/enabled = true
bones/2/position = Vector3(0, 10.3422, 0)
bones/2/rotation = Quaternion(0.0699728, 0.193007, -0.0319435, 0.978178)
bones/2/scale = Vector3(1, 1, 1)
bones/3/name = "mixamorigSpine2"
bones/3/parent = 2
bones/3/rest = Transform3D(0.99859, -0.0388094, -0.0362234, 0.0371107, 0.998231, -0.0464464, 0.0379619, 0.0450366, 0.998264, 0, 11.8197, 0)
bones/3/enabled = true
bones/3/position = Vector3(0, 11.8197, 0)
bones/3/rotation = Quaternion(0.0675578, 0.194314, -0.0285908, 0.978192)
bones/3/scale = Vector3(1, 1, 1)
bones/4/name = "mixamorigSpine2_2"
bones/4/parent = 3
bones/4/rest = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0)
bones/4/enabled = true
bones/4/position = Vector3(0, 0, 0)
bones/4/rotation = Quaternion(0, 0, 0, 1)
bones/4/scale = Vector3(1, 1, 1)
bones/5/name = "mixamorigNeck"
bones/5/parent = 3
bones/5/rest = Transform3D(0.996765, -0.080267, -0.00405575, 0.0802112, 0.990369, 0.112855, -0.00504183, -0.112815, 0.993603, 0, 13.2971, 2.0537e-08)
bones/5/enabled = true
bones/5/position = Vector3(0, 13.2971, 2.0537e-08)
bones/5/rotation = Quaternion(0.0190597, -0.086469, 0.0684052, 0.993721)
bones/5/scale = Vector3(1, 1, 1)
bones/6/name = "mixamorigNeck_2"
bones/6/parent = 5
bones/6/rest = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0)
bones/6/enabled = true
bones/6/position = Vector3(0, 0, 0)
bones/6/rotation = Quaternion(0, 0, 0, 1)
bones/6/scale = Vector3(1, 1, 1)
bones/7/name = "mixamorigHead"
bones/7/parent = 5
bones/7/rest = Transform3D(0.985116, 0.0965757, 0.142199, -0.109309, 0.990399, 0.084623, -0.132661, -0.098907, 0.986214, 0, 4.94179, -0.110829)
bones/7/enabled = true
bones/7/position = Vector3(0, 4.94179, -0.110829)
bones/7/rotation = Quaternion(-0.0840208, -0.409803, 0.225865, 0.879765)
bones/7/scale = Vector3(1, 1, 1)
bones/8/name = "mixamorigHead_2"
bones/8/parent = 7
bones/8/rest = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0)
bones/8/enabled = true
bones/8/position = Vector3(0, 0, 0)
bones/8/rotation = Quaternion(0, 0, 0, 1)
bones/8/scale = Vector3(1, 1, 1)
bones/9/name = "mixamorigHeadTop_End"
bones/9/parent = 7
bones/9/rest = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 20.1401, -0.451681)
bones/9/enabled = true
bones/9/position = Vector3(0, 20.1401, -0.451681)
bones/9/rotation = Quaternion(0, 0, 0, 1)
bones/9/scale = Vector3(1, 1, 1)
bones/10/name = "mixamorigLeftShoulder"
bones/10/parent = 3
bones/10/rest = Transform3D(0.206827, 0.958731, -0.195083, 0.0113313, -0.201728, -0.979376, -0.978312, 0.200351, -0.0525867, 5.43585, 11.269, 0.0202943)
bones/10/enabled = true
bones/10/position = Vector3(5.43585, 11.269, 0.0202943)
bones/10/rotation = Quaternion(0.564283, 0.457454, -0.471331, 0.500167)
bones/10/scale = Vector3(1, 1, 1)
bones/11/name = "mixamorigLeftArm"
bones/11/parent = 10
bones/11/rest = Transform3D(0.990211, -0.13948, 0.00525826, 0.110587, 0.760992, -0.639267, 0.0851633, 0.63359, 0.768967, 4.44089e-16, 11.3224, -1.42109e-14)
bones/11/enabled = true
bones/11/position = Vector3(4.44089e-16, 11.3224, -1.42109e-14)
bones/11/rotation = Quaternion(0.51055, 0.295472, -0.0857241, 0.802923)
bones/11/scale = Vector3(1, 1, 1)
bones/12/name = "mixamorigLeftForeArm"
bones/12/parent = 11
bones/12/rest = Transform3D(-0.473102, -0.881008, 0.000186709, 0.881008, -0.473102, -0.000102955, 0.000179037, 0.000115784, 1, -4.44089e-16, 30.4255, -7.10543e-15)
bones/12/enabled = true
bones/12/position = Vector3(-4.44089e-16, 30.4255, -7.10543e-15)
bones/12/rotation = Quaternion(0.00121628, -0.000507309, 0.655506, 0.755189)
bones/12/scale = Vector3(1, 1, 1)
bones/13/name = "mixamorigLeftHand"
bones/13/parent = 12
bones/13/rest = Transform3D(1, -1.63064e-16, -2.77556e-17, 1.63064e-16, 1, 1.02193e-16, 2.77556e-17, -1.02193e-16, 1, 0, 21.5194, 3.55271e-15)
bones/13/enabled = true
bones/13/position = Vector3(0, 21.5194, 3.55271e-15)
bones/13/rotation = Quaternion(-5.10964e-17, -1.38778e-17, 8.1532e-17, 1)
bones/13/scale = Vector3(1, 1, 1)
bones/14/name = "mixamorigRightShoulder"
bones/14/parent = 3
bones/14/rest = Transform3D(0.22126, -0.974155, 0.0454546, -0.0461515, -0.0570173, -0.997306, 0.974122, 0.218566, -0.0575744, -5.43585, 11.2691, 0.0332328)
bones/14/enabled = true
bones/14/position = Vector3(-5.43585, 11.2691, 0.0332328)
bones/14/rotation = Quaternion(0.61197, -0.419489, 0.278721, 0.609784)
bones/14/scale = Vector3(1, 1, 1)
bones/15/name = "mixamorigRightArm"
bones/15/parent = 14
bones/15/rest = Transform3D(0.753513, -0.395701, -0.525014, -0.24985, 0.566305, -0.785413, 0.608107, 0.722994, 0.327851, 4.44089e-16, 11.3224, 0)
bones/15/enabled = true
bones/15/position = Vector3(4.44089e-16, 11.3224, 0)
bones/15/rotation = Quaternion(-0.0973797, 0.129766, -0.577669, 0.799985)
bones/15/scale = Vector3(1, 1, 1)
bones/16/name = "mixamorigRightForeArm"
bones/16/parent = 15
bones/16/rest = Transform3D(0.0847522, 0.976244, 0.199412, -0.974062, 0.0390348, 0.222887, 0.209808, -0.21313, 0.954231, 0, 30.4279, 0)
bones/16/enabled = true
bones/16/position = Vector3(0, 30.4279, 0)
bones/16/rotation = Quaternion(-0.00417022, -0.000314681, -0.527491, 0.84955)
bones/16/scale = Vector3(1, 1, 1)
bones/17/name = "mixamorigRightHand"
bones/17/parent = 16
bones/17/rest = Transform3D(1, -9.54098e-18, 3.64292e-17, 9.54098e-18, 1, 1.47045e-16, -3.64292e-17, -1.47045e-16, 1, 0, 21.5187, 3.55271e-15)
bones/17/enabled = true
bones/17/position = Vector3(0, 21.5187, 3.55271e-15)
bones/17/rotation = Quaternion(-7.35225e-17, 1.82146e-17, 4.77049e-18, 1)
bones/17/scale = Vector3(1, 1, 1)
bones/18/name = "mixamorigLeftUpLeg"
bones/18/parent = 0
bones/18/rest = Transform3D(-0.975116, 0.0961423, 0.199763, -0.102576, -0.99448, -0.0220876, 0.196537, -0.042029, 0.979595, 8.40872, -4.91863, 0.104784)
bones/18/enabled = true
bones/18/position = Vector3(8.40872, -4.91863, 0.104784)
bones/18/rotation = Quaternion(-0.240307, 0.446787, 0.860445, -0.0476212)
bones/18/scale = Vector3(1, 1, 1)
bones/19/name = "mixamorigLeftLeg"
bones/19/parent = 18
bones/19/rest = Transform3D(0.998802, 0.00141458, 0.0489233, -0.0306223, 0.79783, 0.602105, -0.0381808, -0.602881, 0.796917, 0, 38.0973, 0)
bones/19/enabled = true
bones/19/position = Vector3(0, 38.0973, 0)
bones/19/rotation = Quaternion(-0.58171, 0.0709258, -0.0419647, 0.809211)
bones/19/scale = Vector3(1, 1, 1)
bones/20/name = "mixamorigLeftFoot"
bones/20/parent = 19
bones/20/rest = Transform3D(0.989404, 0.0725591, -0.125756, -0.144974, 0.44685, -0.882784, -0.00786018, 0.891661, 0.452634, -1.77636e-15, 36.2443, 0)
bones/20/enabled = true
bones/20/position = Vector3(-1.77636e-15, 36.2443, 0)
bones/20/rotation = Quaternion(0.606516, 0.0151272, -0.123857, 0.785219)
bones/20/scale = Vector3(1, 1, 1)
bones/21/name = "mixamorigLeftToeBase"
bones/21/parent = 20
bones/21/rest = Transform3D(0.985756, 0.0706466, 0.152622, 0.124094, 0.306978, -0.943592, -0.113513, 0.949091, 0.293839, 1.77636e-15, 15.5795, 0)
bones/21/enabled = true
bones/21/position = Vector3(1.77636e-15, 15.5795, 0)
bones/21/rotation = Quaternion(0.246082, 0.0182915, -0.00464489, 0.969065)
bones/21/scale = Vector3(1, 1, 1)
bones/22/name = "mixamorigLeftToe_End"
bones/22/parent = 21
bones/22/rest = Transform3D(1, 1.73472e-18, -5.76628e-16, -1.73472e-18, 1, -2.42211e-16, 5.76628e-16, 2.42211e-16, 1, 0, 6.47196, 1.11022e-16)
bones/22/enabled = true
bones/22/position = Vector3(0, 6.47196, 1.11022e-16)
bones/22/rotation = Quaternion(1.21105e-16, -2.88314e-16, -8.67362e-19, 1)
bones/22/scale = Vector3(1, 1, 1)
bones/23/name = "mixamorigRightUpLeg"
bones/23/parent = 0
bones/23/rest = Transform3D(-0.97686, 0.194846, -0.0882064, -0.177935, -0.511517, 0.840648, 0.118678, 0.83689, 0.53435, -8.40872, -4.91863, 0.00846076)
bones/23/enabled = true
bones/23/position = Vector3(-8.40872, -4.91863, 0.00846076)
bones/23/rotation = Quaternion(-0.339294, -0.104212, 0.934775, -0.0146858)
bones/23/scale = Vector3(1, 1, 1)
bones/24/name = "mixamorigRightLeg"
bones/24/parent = 23
bones/24/rest = Transform3D(0.999157, -0.0408894, 0.0037067, 0.028253, 0.750259, 0.66054, -0.0297901, -0.659878, 0.750782, -1.77636e-15, 38.1037, 2.22045e-16)
bones/24/enabled = true
bones/24/position = Vector3(-1.77636e-15, 38.1037, 2.22045e-16)
bones/24/rotation = Quaternion(-0.551729, 0.104898, -0.0476692, 0.826026)
bones/24/scale = Vector3(1, 1, 1)
bones/25/name = "mixamorigRightFoot"
bones/25/parent = 24
bones/25/rest = Transform3D(0.989235, 0.0781579, -0.123716, -0.14125, 0.289018, -0.946846, -0.0382473, 0.954128, 0.296946, -1.77636e-15, 36.2447, 0)
bones/25/enabled = true
bones/25/position = Vector3(-1.77636e-15, 36.2447, 0)
bones/25/rotation = Quaternion(0.83996, 0.20018, 0.0475478, 0.502129)
bones/25/scale = Vector3(1, 1, 1)
bones/26/name = "mixamorigRightToeBase"
bones/26/parent = 25
bones/26/rest = Transform3D(0.999527, -0.0141581, -0.0272931, -0.00187639, 0.85793, -0.513763, 0.0306895, 0.513571, 0.857498, 0, 15.5635, 0)
bones/26/enabled = true
bones/26/position = Vector3(0, 15.5635, 0)
bones/26/rotation = Quaternion(0.371757, -0.014297, -2.53171e-05, 0.92822)
bones/26/scale = Vector3(1, 1, 1)
bones/27/name = "mixamorigRightToe_End"
bones/27/parent = 26
bones/27/rest = Transform3D(1, 1.73472e-18, 4.53942e-17, -1.73472e-18, 1, -1.48969e-16, -4.53942e-17, 1.48969e-16, 1, 0, 6.48464, 0)
bones/27/enabled = true
bones/27/position = Vector3(0, 6.48464, 0)
bones/27/rotation = Quaternion(7.44847e-17, 2.26971e-17, -8.67362e-19, 1)
bones/27/scale = Vector3(1, 1, 1)

[node name="RightHandAttachment" type="BoneAttachment3D" parent="GeneralSkeleton"]
transform = Transform3D(-0.973105, 0.103817, -0.205641, 0.186735, -0.167244, -0.96807, -0.134895, -0.980434, 0.143359, 28.027, 94.8035, -14.5671)
bone_name = "mixamorigRightHand"
bone_idx = 17

[node name="WeaponSocket" type="Marker3D" parent="GeneralSkeleton/RightHandAttachment"]
transform = Transform3D(0.955677, -0.0468568, 0.290664, -0.00936727, 0.981915, 0.18909, -0.294267, -0.183432, 0.937955, 0, 0, 0)

[node name="Sword" parent="GeneralSkeleton/RightHandAttachment/WeaponSocket" instance=ExtResource("2_gqoei")]
transform = Transform3D(50, 0, 0, 0, 50, 0, 0, 0, 50, 0, 0, 0)

[node name="LeftHandAttachment" type="BoneAttachment3D" parent="GeneralSkeleton"]
transform = Transform3D(-0.800736, 0.391278, -0.453567, -0.485308, -0.867608, 0.108314, -0.351137, 0.306851, 0.884616, -24.6127, 65.1355, -17.3599)
bone_name = "mixamorigLeftHand"
bone_idx = 13

[node name="WeaponSocket" type="Marker3D" parent="GeneralSkeleton/LeftHandAttachment"]

[node name="HeadAttachment" type="BoneAttachment3D" parent="GeneralSkeleton"]
transform = Transform3D(0.865047, 0.040323, 0.500068, 0.103599, 0.960924, -0.256696, -0.490878, 0.273861, 0.827066, -6.33032, 131.378, 6.43764)
bone_name = "mixamorigHeadTop_End"
bone_idx = 9

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_58s4b")
}
playback_default_blend_time = 0.3
script = ExtResource("7_1ussp")

[node name="Combat" type="Node" parent="."]
script = ExtResource("9_dpui0")

[node name="Idle" type="Node" parent="."]
script = ExtResource("8_ly13d")

[node name="Run" type="Node" parent="."]
script = ExtResource("9_w7hc7")

[node name="Roll" type="Node" parent="."]
script = ExtResource("10_u5sls")

[node name="Sprint" type="Node" parent="."]
script = ExtResource("11_4su47")

[node name="RestToIdle" type="Node" parent="."]
script = ExtResource("16_f8u1j")

[node name="IdleToRest" type="Node" parent="."]
script = ExtResource("17_voj4g")

[node name="Rest" type="Node" parent="."]
script = ExtResource("13_yducd")

[node name="Slash1" type="Node" parent="."]
script = ExtResource("18_shhe5")

[node name="ConsecutiveAttack" type="Node" parent="Slash1" node_paths=PackedStringArray("root_move")]
script = ExtResource("19_sgwv5")
root_move = NodePath("..")
primary_input = "slash_1"
next_attack = "slash_2"

[node name="Slash2" type="Node" parent="."]
script = ExtResource("19_s86su")

[node name="ConsecutiveAttack" type="Node" parent="Slash2" node_paths=PackedStringArray("root_move")]
script = ExtResource("19_sgwv5")
root_move = NodePath("..")
primary_input = "slash_1"
next_attack = "slash_3"

[node name="Slash3" type="Node" parent="."]
script = ExtResource("20_ps46c")
